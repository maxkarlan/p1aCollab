<body>
  <script>
    
        document.addEventListener("DOMContentLoaded", function() {

          let instructions = ['Press "I" to toggle instructions window', 'Press "R" to add more rectangles.', 'Press "O" to convert rectangles to ovals.', 'Press "T" to convert ovals to rectangles.', 'Press "D" to delete shapes.', 'Press "M" to move the shapes.', 'Press "P" to randomly resize all of the shapes.', 'Press "G" to double the size of all the shapes.', 'Press "J" to half the size of all the shapes.', 'Press "S" to spin the shapes.', 'Press "K" to toggle a black border around all the shapes.', 'Press "C" to make the shapes form a ring.', 'Press "V" to vertically line up the shapes.', 'Press "H" to horizontally line up the shapes.', 'Press "B" to toggle the background color between black and white.', 'Left click in the window to repel all shapes within a 200px radius.', 'Press spacebar to reset the screen.'];
let instructionsList = document.createElement('ul');
for (let i = 0; i < instructions.length; i++) {
  let letter = document.createElement('li');
  letter.innerHTML = instructions[i];
  instructionsList.appendChild(letter);
}
let instructionsBox = document.createElement('div');
instructionsBox.style.width = '500px';
instructionsBox.style.height = '350px';
instructionsBox.style.backgroundColor = 'white';
instructionsBox.style.position = 'absolute';
instructionsBox.style.top = '20%';
instructionsBox.style.left = '20%';
instructionsBox.style.marginTop = '-50px';
instructionsBox.style.marginLeft = '-50px';
instructionsBox.style.border = '2px solid black';
instructionsBox.appendChild(instructionsList);
document.body.appendChild(instructionsBox);
let instructionsBoxShowing = true;
document.addEventListener('keydown', function(event) {
  if (event.keyCode === 73) {
    if (instructionsBoxShowing) {
      document.body.removeChild(instructionsBox);
      instructionsBoxShowing = false;
    } else {
instructionsBox.style.width = '500px';
instructionsBox.style.height = '350px';
instructionsBox.style.backgroundColor = 'white';
instructionsBox.style.position = 'absolute';
instructionsBox.style.top = '40%';
instructionsBox.style.left = '40%';
instructionsBox.style.marginTop = '-50px';
instructionsBox.style.marginLeft = '-50px';
instructionsBox.style.border = '2px solid black';
instructionsBox.appendChild(instructionsList);
document.body.appendChild(instructionsBox);
      instructionsBoxShowing = true;
    }
  }
});
          
document.addEventListener('keydown', function(event) {
  if (event.keyCode === 82) {
    for (let i = 0; i < 30; i++) {
      let rect = document.createElement('div');
      rect.style.position = 'absolute';
      rect.style.top = Math.random() * (window.innerHeight - 100) + 'px';
      rect.style.left = Math.random() * (window.innerWidth - 100) + 'px';
      rect.style.width = Math.random() * 100 + 'px';
      rect.style.height = Math.random() * 100 + 'px';
      rect.style.backgroundColor = 'rgba(' + Math.random() * 255 + ', ' + Math.random() * 255 + ', ' + Math.random() * 255 + ', ' + Math.random() + ')';
      document.body.appendChild(rect);
    }
  }
});
          

document.addEventListener('keydown', function(event) {
  if (event.keyCode === 77) {
    let rects = document.getElementsByTagName('div');
    for (let i = 0; i < rects.length; i++) {
      rects[i].style.transition = 'all 1s';
      rects[i].style.top = Math.random() * (window.innerHeight - 100) + 'px';
      rects[i].style.left = Math.random() * (window.innerWidth - 100) + 'px';
    }
  }
});

document.addEventListener('keydown', function(event) {
  if (event.keyCode === 67) {
    let rects = document.getElementsByTagName('div');
    for (let i = 0; i < rects.length; i++) {
      rects[i].style.transition = 'all 1s';
      rects[i].style.top = (window.innerHeight / 2 - rects[i].offsetHeight / 2) + 300 * Math.sin(i * 2 * Math.PI / rects.length) + 'px';
      rects[i].style.left = (window.innerWidth / 2 - rects[i].offsetWidth / 2) + 300 * Math.cos(i * 2 * Math.PI / rects.length) + 'px';
    }
  }
});

document.addEventListener('keydown', function(event) {
  if (event.keyCode === 83) {
    let rects = document.getElementsByTagName('div');
    for (let i = 0; i < rects.length; i++) {
      rects[i].style.transition = 'all 1s';
      rects[i].style.transform = 'rotate(' + (Math.random() * 270 + 45) + 'deg)';
    }
  }
});

document.addEventListener('keydown', function(event) {
  if (event.keyCode === 66) {
    if (document.body.style.backgroundColor === 'black') {
      document.body.style.backgroundColor = 'white';
    } else {
      document.body.style.backgroundColor = 'black';
    }
  }
});

document.addEventListener('keydown', function(event) {
  if (event.keyCode === 68) {
    let rects = document.getElementsByTagName('div');
    for (let i = 0; i < 30; i++) {
      document.body.removeChild(rects[i]);
    }
  }
});

document.addEventListener('keydown', function(event) {
  if (event.keyCode === 72) {
    let rects = document.getElementsByTagName('div');
    for (let i = 0; i < rects.length; i++) {
      rects[i].style.transition = 'all 1s';
      rects[i].style.transform = 'rotate(0deg)';
      rects[i].style.top = (i * (window.innerHeight / rects.length)) + 'px';
      rects[i].style.left = '0px';
      rects[i].style.width = window.innerWidth + 'px';
      rects[i].style.height = (window.innerHeight / rects.length) + 'px';
    }
  }
});

document.addEventListener('keydown', function(event) {
  if (event.keyCode === 80) {
    let rects = document.getElementsByTagName('div');
    for (let i = 0; i < rects.length; i++) {
      rects[i].style.transition = 'all 1s';
      rects[i].style.width = Math.random() * 100 + 'px';
      rects[i].style.height = Math.random() * 100 + 'px';
    }
  }
});

document.addEventListener('keydown', function(event) {
  if (event.keyCode === 86) {
    let rects = document.getElementsByTagName('div');
    for (let i = 0; i < rects.length; i++) {
      rects[i].style.transition = 'all 1s';
      rects[i].style.transform = 'rotate(0deg)';
      rects[i].style.top = '0px';
      rects[i].style.left = (i * (window.innerWidth / rects.length)) + 'px';
      rects[i].style.width = (window.innerWidth / rects.length) + 'px';
      rects[i].style.height = window.innerHeight + 'px';
    }
  }
});
          document.addEventListener('click', function(event) {
  let rects = document.getElementsByTagName('div');
  for (let i = 0; i < rects.length; i++) {
    let rect = rects[i];
    let rectX = parseInt(rect.style.left);
    let rectY = parseInt(rect.style.top);
    let distance = Math.sqrt(Math.pow(event.clientX - rectX, 2) + Math.pow(event.clientY - rectY, 2));
    if (distance < 200) {
      rect.style.transition = 'all 1s';
      rect.style.top = rectY + (rectY - event.clientY) * 0.7 + 'px';
      rect.style.left = rectX + (rectX - event.clientX) * 0.7 + 'px';
    }
  }
});
          document.addEventListener('keydown', function(event) {
  if (event.keyCode === 71) {
    let rects = document.getElementsByTagName('div');
    for (let i = 0; i < rects.length; i++) {
      rects[i].style.width = parseInt(rects[i].style.width) * 2 + 'px';
      rects[i].style.height = parseInt(rects[i].style.height) * 2 + 'px';
    }
  }
});

document.addEventListener('keydown', function(event) {
  if (event.keyCode === 74) {
    let rects = document.getElementsByTagName('div');
    for (let i = 0; i < rects.length; i++) {
      rects[i].style.width = parseInt(rects[i].style.width) / 2 + 'px';
      rects[i].style.height = parseInt(rects[i].style.height) / 2 + 'px';
    }
  }
});
          
  let border = false;
document.addEventListener('keydown', function(event) {
  if (event.keyCode === 75) {
    let rects = document.getElementsByTagName('div');
    for (let i = 0; i < rects.length; i++) {
      if (border) {
        rects[i].style.border = 'none';
      } else {
        rects[i].style.border = '1px solid black';
      }
    }
    border = !border;
  }
});
   document.addEventListener('keydown', function(event) {
  if (event.keyCode === 79) {
    let rects = document.getElementsByTagName('div');
    for (let i = 0; i < rects.length; i++) {
      rects[i].style.transition = 'all 1s';
      rects[i].style.borderRadius = '50%';
    }
  }
});

document.addEventListener('keydown', function(event) {
  if (event.keyCode === 84) {
    let rects = document.getElementsByTagName('div');
    for (let i = 0; i < rects.length; i++) {
      rects[i].style.transition = 'all 1s';
      rects[i].style.borderRadius = '0%';
    }
  }
});
          
document.addEventListener('keydown', function(event) {
  if (event.keyCode === 32) {
    while (document.body.firstChild) {
      document.body.removeChild(document.body.firstChild);
    }
    document.body.appendChild(instructionsBox);
  }
});
});
  </script>
</body>